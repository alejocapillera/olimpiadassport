{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-66f24a96\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"carga-productos\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Cargar Producto\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"form-group\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"codigo_producto\"\n}, \"Código del Producto\", -1 /* HOISTED */));\nconst _hoisted_5 = {\n  class: \"form-group\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"descripcion\"\n}, \"Descripción\", -1 /* HOISTED */));\nconst _hoisted_7 = {\n  class: \"form-group\"\n};\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"precio_unitario\"\n}, \"Precio Unitario\", -1 /* HOISTED */));\nconst _hoisted_9 = {\n  class: \"form-group\"\n};\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"stock\"\n}, \"Stock\", -1 /* HOISTED */));\nconst _hoisted_11 = {\n  class: \"form-group\"\n};\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"subcategoria\"\n}, \"Subcategoría\", -1 /* HOISTED */));\nconst _hoisted_13 = [\"value\"];\nconst _hoisted_14 = {\n  class: \"form-group\"\n};\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"categoria\"\n}, \"Categoría\", -1 /* HOISTED */));\nconst _hoisted_16 = [\"value\"];\nconst _hoisted_17 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Cargar Producto\", -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_MenuPrincipal = _resolveComponent(\"MenuPrincipal\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_MenuPrincipal), _createElementVNode(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"form\", {\n    onSubmit: _cache[6] || (_cache[6] = _withModifiers((...args) => $options.submitForm && $options.submitForm(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.producto.codigo_producto = $event),\n    id: \"codigo_producto\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.producto.codigo_producto]])]), _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.producto.descripcion = $event),\n    id: \"descripcion\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.producto.descripcion]])]), _createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.producto.precio_unitario = $event),\n    id: \"precio_unitario\",\n    step: \"0.01\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.producto.precio_unitario]])]), _createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.producto.stock = $event),\n    id: \"stock\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.producto.stock]])]), _createElementVNode(\"div\", _hoisted_11, [_hoisted_12, _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.producto.id_subcategoria = $event),\n    id: \"subcategoria\",\n    required: \"\"\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.subcategorias, subcat => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: subcat.id_subcategoria,\n      value: subcat.id_subcategoria\n    }, _toDisplayString(subcat.nombre_subcategoria), 9 /* TEXT, PROPS */, _hoisted_13);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.producto.id_subcategoria]])]), _createElementVNode(\"div\", _hoisted_14, [_hoisted_15, _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.producto.id_categoria = $event),\n    id: \"categoria\",\n    required: \"\"\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.categorias, cat => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: cat.id_categoria,\n      value: cat.id_categoria\n    }, _toDisplayString(cat.nombre_categoria), 9 /* TEXT, PROPS */, _hoisted_16);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.producto.id_categoria]])]), _hoisted_17], 32 /* NEED_HYDRATION */)])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","for","type","_createElementBlock","_Fragment","_createVNode","_component_MenuPrincipal","_hoisted_1","_hoisted_2","onSubmit","_cache","_withModifiers","args","$options","submitForm","_hoisted_3","_hoisted_4","$event","$data","producto","codigo_producto","id","required","_hoisted_5","_hoisted_6","descripcion","_hoisted_7","_hoisted_8","precio_unitario","step","_hoisted_9","_hoisted_10","stock","_hoisted_11","_hoisted_12","id_subcategoria","_renderList","subcategorias","subcat","key","value","nombre_subcategoria","_hoisted_13","_hoisted_14","_hoisted_15","id_categoria","categorias","cat","nombre_categoria","_hoisted_16","_hoisted_17"],"sources":["C:\\Users\\estudiante\\Desktop\\sport-tienda\\src\\components\\CargaProductos.vue"],"sourcesContent":["<template>\n    <MenuPrincipal />\n  <div class=\"carga-productos\">\n    <h2>Cargar Producto</h2>\n    <form @submit.prevent=\"submitForm\">\n      <div class=\"form-group\">\n        <label for=\"codigo_producto\">Código del Producto</label>\n        <input\n          type=\"text\"\n          v-model=\"producto.codigo_producto\"\n          id=\"codigo_producto\"\n          required\n        />\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"descripcion\">Descripción</label>\n        <textarea\n          v-model=\"producto.descripcion\"\n          id=\"descripcion\"\n          required\n        ></textarea>\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"precio_unitario\">Precio Unitario</label>\n        <input\n          type=\"number\"\n          v-model=\"producto.precio_unitario\"\n          id=\"precio_unitario\"\n          step=\"0.01\"\n          required\n        />\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"stock\">Stock</label>\n        <input type=\"number\" v-model=\"producto.stock\" id=\"stock\" required />\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"subcategoria\">Subcategoría</label>\n        <select v-model=\"producto.id_subcategoria\" id=\"subcategoria\" required>\n          <option\n            v-for=\"subcat in subcategorias\"\n            :key=\"subcat.id_subcategoria\"\n            :value=\"subcat.id_subcategoria\"\n          >\n            {{ subcat.nombre_subcategoria }}\n          </option>\n        </select>\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"categoria\">Categoría</label>\n        <select v-model=\"producto.id_categoria\" id=\"categoria\" required>\n          <option\n            v-for=\"cat in categorias\"\n            :key=\"cat.id_categoria\"\n            :value=\"cat.id_categoria\"\n          >\n            {{ cat.nombre_categoria }}\n          </option>\n        </select>\n      </div>\n\n      <button type=\"submit\">Cargar Producto</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport MenuPrincipal from \"@/components/MenuPrincipal.vue\";\nimport axios from \"axios\";\n\nexport default {\n  components: {\n    MenuPrincipal,\n  },\n  data() {\n    return {\n      producto: {\n        codigo_producto: \"\",\n        descripcion: \"\",\n        precio_unitario: \"\",\n        stock: \"\",\n        id_subcategoria: null,\n        id_categoria: null,\n      },\n      subcategorias: [],\n      categorias: [],\n    };\n  },\n  async created() {\n    await this.fetchSubcategorias();\n    await this.fetchCategorias();\n  },\n  methods: {\n    async fetchSubcategorias() {\n      try {\n        const response = await axios.get(\n          \"http://localhost:3001/api/subcategorias\"\n        );\n        this.subcategorias = response.data;\n      } catch (error) {\n        console.error(\"Error al obtener subcategorías:\", error);\n      }\n    },\n    async fetchCategorias() {\n      try {\n        const response = await axios.get(\n          \"http://localhost:3001/api/categorias\"\n        );\n        this.categorias = response.data;\n      } catch (error) {\n        console.error(\"Error al obtener categorías:\", error);\n      }\n    },\n    async submitForm() {\n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        alert(\"Por favor, inicie sesión para continuar.\");\n        return;\n      }\n\n      try {\n        await axios.post(\"http://localhost:3001/api/productos\", this.producto, {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        });\n        alert(\"Producto cargado exitosamente.\");\n        this.resetForm();\n      } catch (error) {\n        console.error(\"Error al cargar el producto:\", error);\n        alert(\"Error al cargar el producto.\");\n      }\n    },\n    resetForm() {\n      this.producto = {\n        codigo_producto: \"\",\n        descripcion: \"\",\n        precio_unitario: \"\",\n        stock: \"\",\n        id_subcategoria: null,\n        id_categoria: null,\n      };\n    },\n  },\n};\n</script>\n\n<style scoped>\n.carga-productos {\n  max-width: 600px;\n  margin: 0 auto;\n  padding: 20px;\n}\n\n.form-group {\n  margin-bottom: 15px;\n}\n\nlabel {\n  display: block;\n  margin-bottom: 5px;\n}\n\ninput,\ntextarea,\nselect {\n  width: 100%;\n  padding: 8px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n}\n\nbutton {\n  padding: 10px 15px;\n  background-color: #28a745;\n  color: #fff;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\nbutton:hover {\n  background-color: #218838;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}