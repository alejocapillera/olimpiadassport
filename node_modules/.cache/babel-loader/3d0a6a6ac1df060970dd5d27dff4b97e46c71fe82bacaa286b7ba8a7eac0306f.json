{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-66f24a96\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"carga-productos\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Cargar Producto\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"form-group\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"codigo_producto\"\n}, \"Código del Producto\", -1 /* HOISTED */));\nconst _hoisted_5 = {\n  class: \"form-group\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"descripcion\"\n}, \"Descripción\", -1 /* HOISTED */));\nconst _hoisted_7 = {\n  class: \"form-group\"\n};\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"precio_unitario\"\n}, \"Precio Unitario\", -1 /* HOISTED */));\nconst _hoisted_9 = {\n  class: \"form-group\"\n};\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"stock\"\n}, \"Stock\", -1 /* HOISTED */));\nconst _hoisted_11 = {\n  class: \"form-group\"\n};\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"subcategoria\"\n}, \"Subcategoría\", -1 /* HOISTED */));\nconst _hoisted_13 = [\"value\"];\nconst _hoisted_14 = {\n  class: \"form-group\"\n};\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"categoria\"\n}, \"Categoría\", -1 /* HOISTED */));\nconst _hoisted_16 = [\"value\"];\nconst _hoisted_17 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Cargar Producto\", -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"form\", {\n    onSubmit: _cache[6] || (_cache[6] = _withModifiers((...args) => $options.submitForm && $options.submitForm(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.producto.codigo_producto = $event),\n    id: \"codigo_producto\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.producto.codigo_producto]])]), _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.producto.descripcion = $event),\n    id: \"descripcion\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.producto.descripcion]])]), _createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.producto.precio_unitario = $event),\n    id: \"precio_unitario\",\n    step: \"0.01\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.producto.precio_unitario]])]), _createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.producto.stock = $event),\n    id: \"stock\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.producto.stock]])]), _createElementVNode(\"div\", _hoisted_11, [_hoisted_12, _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.producto.id_subcategoria = $event),\n    id: \"subcategoria\",\n    required: \"\"\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.subcategorias, subcat => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: subcat.id_subcategoria,\n      value: subcat.id_subcategoria\n    }, _toDisplayString(subcat.nombre_subcategoria), 9 /* TEXT, PROPS */, _hoisted_13);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.producto.id_subcategoria]])]), _createElementVNode(\"div\", _hoisted_14, [_hoisted_15, _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.producto.id_categoria = $event),\n    id: \"categoria\",\n    required: \"\"\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.categorias, cat => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: cat.id_categoria,\n      value: cat.id_categoria\n    }, _toDisplayString(cat.nombre_categoria), 9 /* TEXT, PROPS */, _hoisted_16);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.producto.id_categoria]])]), _hoisted_17], 32 /* NEED_HYDRATION */)]);\n}","map":{"version":3,"names":["class","_createElementVNode","for","type","_createElementBlock","_hoisted_1","_hoisted_2","onSubmit","_cache","_withModifiers","args","$options","submitForm","_hoisted_3","_hoisted_4","$event","$data","producto","codigo_producto","id","required","_hoisted_5","_hoisted_6","descripcion","_hoisted_7","_hoisted_8","precio_unitario","step","_hoisted_9","_hoisted_10","stock","_hoisted_11","_hoisted_12","id_subcategoria","_Fragment","_renderList","subcategorias","subcat","key","value","nombre_subcategoria","_hoisted_13","_hoisted_14","_hoisted_15","id_categoria","categorias","cat","nombre_categoria","_hoisted_16","_hoisted_17"],"sources":["C:\\Users\\estudiante\\Desktop\\sport-tienda\\src\\components\\CargaProductos.vue"],"sourcesContent":["<template>\r\n    <div class=\"carga-productos\">\r\n      <h2>Cargar Producto</h2>\r\n      <form @submit.prevent=\"submitForm\">\r\n        <div class=\"form-group\">\r\n          <label for=\"codigo_producto\">Código del Producto</label>\r\n          <input type=\"text\" v-model=\"producto.codigo_producto\" id=\"codigo_producto\" required />\r\n        </div>\r\n  \r\n        <div class=\"form-group\">\r\n          <label for=\"descripcion\">Descripción</label>\r\n          <textarea v-model=\"producto.descripcion\" id=\"descripcion\" required></textarea>\r\n        </div>\r\n  \r\n        <div class=\"form-group\">\r\n          <label for=\"precio_unitario\">Precio Unitario</label>\r\n          <input type=\"number\" v-model=\"producto.precio_unitario\" id=\"precio_unitario\" step=\"0.01\" required />\r\n        </div>\r\n  \r\n        <div class=\"form-group\">\r\n          <label for=\"stock\">Stock</label>\r\n          <input type=\"number\" v-model=\"producto.stock\" id=\"stock\" required />\r\n        </div>\r\n  \r\n        <div class=\"form-group\">\r\n          <label for=\"subcategoria\">Subcategoría</label>\r\n          <select v-model=\"producto.id_subcategoria\" id=\"subcategoria\" required>\r\n            <option v-for=\"subcat in subcategorias\" :key=\"subcat.id_subcategoria\" :value=\"subcat.id_subcategoria\">\r\n              {{ subcat.nombre_subcategoria }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n  \r\n        <div class=\"form-group\">\r\n          <label for=\"categoria\">Categoría</label>\r\n          <select v-model=\"producto.id_categoria\" id=\"categoria\" required>\r\n            <option v-for=\"cat in categorias\" :key=\"cat.id_categoria\" :value=\"cat.id_categoria\">\r\n              {{ cat.nombre_categoria }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n  \r\n        <button type=\"submit\">Cargar Producto</button>\r\n      </form>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import MenuPrincipal from \"@/components/MenuPrincipal.vue\";\r\n  import axios from \"axios\";\r\n  \r\n  export default {\r\n    components: {\r\n    MenuPrincipal,\r\n  },\r\n    data() {\r\n      return {\r\n        producto: {\r\n          codigo_producto: '',\r\n          descripcion: '',\r\n          precio_unitario: '',\r\n          stock: '',\r\n          id_subcategoria: null,\r\n          id_categoria: null\r\n        },\r\n        subcategorias: [],\r\n        categorias: []\r\n      };\r\n    },\r\n    async created() {\r\n      await this.fetchSubcategorias();\r\n      await this.fetchCategorias();\r\n    },\r\n    methods: {\r\n      async fetchSubcategorias() {\r\n        try {\r\n          const response = await axios.get(\"http://localhost:3001/api/subcategorias\");\r\n          this.subcategorias = response.data;\r\n        } catch (error) {\r\n          console.error(\"Error al obtener subcategorías:\", error);\r\n        }\r\n      },\r\n      async fetchCategorias() {\r\n        try {\r\n          const response = await axios.get(\"http://localhost:3001/api/categorias\");\r\n          this.categorias = response.data;\r\n        } catch (error) {\r\n          console.error(\"Error al obtener categorías:\", error);\r\n        }\r\n      },\r\n      async submitForm() {\r\n        const token = localStorage.getItem(\"token\");\r\n        if (!token) {\r\n          alert(\"Por favor, inicie sesión para continuar.\");\r\n          return;\r\n        }\r\n  \r\n        try {\r\n          await axios.post(\"http://localhost:3001/api/productos\", this.producto, {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`\r\n            }\r\n          });\r\n          alert(\"Producto cargado exitosamente.\");\r\n          this.resetForm();\r\n        } catch (error) {\r\n          console.error(\"Error al cargar el producto:\", error);\r\n          alert(\"Error al cargar el producto.\");\r\n        }\r\n      },\r\n      resetForm() {\r\n        this.producto = {\r\n          codigo_producto: '',\r\n          descripcion: '',\r\n          precio_unitario: '',\r\n          stock: '',\r\n          id_subcategoria: null,\r\n          id_categoria: null\r\n        };\r\n      }\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .carga-productos {\r\n    max-width: 600px;\r\n    margin: 0 auto;\r\n    padding: 20px;\r\n  }\r\n  \r\n  .form-group {\r\n    margin-bottom: 15px;\r\n  }\r\n  \r\n  label {\r\n    display: block;\r\n    margin-bottom: 5px;\r\n  }\r\n  \r\n  input,\r\n  textarea,\r\n  select {\r\n    width: 100%;\r\n    padding: 8px;\r\n    border: 1px solid #ccc;\r\n    border-radius: 4px;\r\n  }\r\n  \r\n  button {\r\n    padding: 10px 15px;\r\n    background-color: #28a745;\r\n    color: #fff;\r\n    border: none;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n  }\r\n  \r\n  button:hover {\r\n    background-color: #218838;\r\n  }\r\n  </style>\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}